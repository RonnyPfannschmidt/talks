<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="build/presentation.css">
    </head>
    <body>
        <div class="reveal">
            <div class="slides"><section><h1>annotated assertions</h1>
<h2>debugging without kludges</h2>
</section><section><h2>Whoami</h2>
<ul>
<li>Pytest maintainer</li>
<li>love approachable debugging</li>
</ul>
</section><section><h3>Asserts in python core</h3>
</section><section><h3>Asserts in pytest</h3>
</section><section><h3>Mistakes have been made</h3>
<ul>
<li>pytest prior to <code>2.1</code> was reinterpreting assertions</li>
</ul>
</section><section><h3>Mistakes are still being made</h3>
</section><section><h3>What i want to see</h3>
<div class="highlight python"><pre><span></span><span class="k">def</span> <span class="nf">test_sideeffect</span><span class="p">():</span>
  <span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>

  <span class="k">assert</span> <span class="n">a</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span> <span class="o">==</span> <span class="mi">2</span>
</pre></div>
<div class="highlight text"><pre><span></span>AssertionError: a.pop() == 2
  where:
    `a` was [1]
    `a.pop()` returned 1
    `a` is []
</pre></div>
<div class="highlight python"><pre><span></span><span class="k">def</span> <span class="nf">test_interesting_missed</span><span class="p">():</span>
    <span class="n">val</span> <span class="o">=</span> <span class="s2">&quot;this could be something very important&quot;</span>
    <span class="k">assert</span> <span class="n">val</span> <span class="ow">is</span> <span class="kc">None</span>
</pre></div>
<div class="highlight text"><pre><span></span>AssertionError: val is None
  where:
    `val` is &quot;this could be something very important&quot;
</pre></div>
</section><section><h3>A Proposal</h3>
</section></div>
        </div>
        <script src="build/presentation.js"></script>
        <script>
            Reveal.initialize({
                transition: 'linear',
                keyboard: {39: 'next', 37: 'prev'}
            });
        </script>
    </body>
</html>
